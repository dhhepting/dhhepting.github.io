<h1>
  Knowledge Areas
</h1>
{% assign kal = "" %}
{% for entry in site.data.teaching.CS2013 %}
  {% assign ka = entry[0] %}
  {% capture ka_intro %}00-{{ ka }}{% endcapture %}
  {% capture kal %}{{ kal }},{{ ka }}#{{ ka_intro }}{% endcapture %}
{% endfor %}
{% assign kaol = kal | split: "," | sort %}
{% for kkaa in kaol offset:1 %}
  {% assign kk = kkaa | split: "#" %}
  <div class="card">
    <h3 class="card-header">
    {%comment%}{%endcomment%}
    {% assign ka = kk[0] %}
    {% assign kaf = kk[1] %}
    {% assign kaff = site.data.teaching.CS2013[ka][kaf]%}
    {{ kaff.title}} ({{ kaff.abbrev }})
    {%comment%}{%endcomment%}
    </h3>
    <div class="card-body">
    {% for d in kaff.desc %}
      {{ d.para | markdownify }}
    {% endfor %}
    {% assign kctr = 1 %}

    <ul class="list-group list-group-flush">

    {% for k in kaff.kakusumm %}
      {% assign zfkctr = kctr | prepend: '00' | slice: -2, 2 %}
      {% capture kakid %}{{ ka }}{{ zfkctr }}{% endcapture %}
      {% capture kufn %}{{ zfkctr }}-{{ k.ku | replace: "-","_" | replace: ", ","--" | replace: " ","-" }}{% endcapture %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <button class="btn btn-primary m-1" type="button" data-toggle="collapse" data-target="#{{ kakid }}-collapse" aria-expanded="false" aria-controls="{{kakid}}-collapse">
          {{ k.ku }}
        </button>
        <div>
        {% if k.ct1h > 0 %}
        <span class="badge badge-primary badge-pill">&starf; &starf; Core</span>
        {% endif %}
        {% if k.ct2h > 0 %}
        <span class="badge badge-primary badge-pill">&starf; Core</span>
        {% endif %}
        {% if k.elect == "y" %}
        <span class="badge badge-primary badge-pill">Elective</span>
        {% endif %}
        </div>
      </li>
      {% include curriculum/KU-collapse.html ika=ka iku=kufn ikuti=k.ku ikakid=kakid %}
      {% assign kctr = kctr | plus: 1 %}
    {% endfor %}
    </ul>
    </div>
  </div>
{% endfor %}
