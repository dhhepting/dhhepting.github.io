<!DOCTYPE html>
<html lang="en-CA">
<head>
  <!-- Responsive -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4427429-2"></script>
  <script>
    window.dataLayer = window.dataLayer || []
    function gtag(){dataLayer.push(arguments)}
    gtag('js', new Date())
    gtag('config', 'UA-4427429-2')
  </script>

  <!-- Links -->
  <link rel="stylesheet"
    href="/~hepting/assets/tipuesearch/css/normalize.css"
  />
  <link rel="stylesheet"
    href="/~hepting/assets/tipuesearch/css/tipuesearch.css"
  />
  <link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />
  <!--
  <link rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
    integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
    crossorigin="anonymous"
  />-->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css"
    integrity="sha256-BJ/G+e+y7bQdrYkS2RBTyNfBHpA9IuGaPmf9htub5MQ="
    crossorigin="anonymous"
  />
  <script src="https://kit.fontawesome.com/44322658e3.js" crossorigin="anonymous"></script>
  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous">
  </script>
  <script src="/~hepting/assets/jquery.countdown-2.2.0/jquery.countdown.min.js"></script>

  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.sound.min.js"></script>
-->
  <!-- <link rel="stylesheet" type="text/css" href="style.css"> -->
  <link rel="stylesheet"
    href="/~hepting/assets/css/dhhepting.css"
  />
  <link rel="icon"
    href="/~hepting/assets/favicon.ico"
    type="image/x-icon"
  />
  <link rel="shortcut icon"
    href="/~hepting/assets/favicon.ico"
    type="image/x-icon"
  />
  <link rel="alternate" type="application/rss+xml"
    href="http://www2.cs.uregina.ca/~hepting/rss/news.rss"
  />
  <link rel="canonical" href="http://www2.cs.uregina.ca/~hepting/teaching/gw-marking.html" />
  
  <title>Group Work Marking | D. H. Hepting, Ph.D.</title>
  <meta property="og:title" content="Group Work Marking | D. H. Hepting, Ph.D." />
  <meta property="og:url" content="http://www2.cs.uregina.ca/~hepting/teaching/gw-marking.html" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/~hepting/assets/bg/about.jpg" />


  
<script type="application/ld+json">
{
  "@context" : "https://schema.org",
  
      "@type": "WebPage",
"breadcrumb":
  {
    "@type": "BreadcrumbList",
    "itemListElement":
    [
      {
        "@type": "ListItem",
        "position": 1,
        "item":
        {
          "@type": "WebSite",
          "@id": "http://www2.cs.uregina.ca/~hepting/",
          "name": "D. H. Hepting"
        }
      
      },
      {
        "@type": "ListItem",
        "position": 2,
        "item":
        {
          "@type": "WebPage",
          "@id": "http://www2.cs.uregina.ca/~hepting/teaching/",
        
          "name": "Teaching"
        }
      },
        {
        "@type": "ListItem",
        "position": 3,
        "item":
        {
          "@type": "WebPage",
          "@id": "http://www2.cs.uregina.ca/~hepting/teaching/gw-marking.html",
        
          "name": "GWM"
        }
      }
        ]
  }

  ,
  "mainEntity":




  {
  }


  
}
</script>






</head>

<body>


<div class="card teaching w-100 lightcthru" style="min-height:100%" >
<nav class="navbar navbar-expand navbar-dark"
style="background-color: rgba(32, 32, 32, 0.75)">
  <ul class="navbar-nav mr-auto">
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle clickable" href="#"
      id="nav-menu" role="button" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false">
        Site
      </a>
      <ul class="dropdown-menu" aria-labelledby="nav-menu"
      style="background-color: rgba(224,224, 224, 1.0)">
      <li class="dropdown-item"><a class="dropdown-link" href="/~hepting/">
  
    Home</a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/about/">
  
    About</a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/projects/">
  
    Projects</a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/research/">
  
    Research</a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/teaching/">
  
    Teaching</a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/rss/">
  
    RSS&nbsp;<span class="oi oi-rss"></span></a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/search/">
  
    Search&nbsp;<span class="oi oi-magnifying-glass"></span></a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/news/">
  
    News</a>
</li>
<li class="dropdown-item"><a class="dropdown-link" href="/~hepting/trouble/">
  
    Trouble</a>
</li>


      </ul>
    </li>
    
  </ul>
</nav>

<div class="card-header lightcthru">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb card-header lightcthru">
      <li class="breadcrumb-item">
        <a href="/~hepting/">
          D. H. Hepting
        </a>
      </li>
      <li class="breadcrumb-item">
        <a href="/~hepting/teaching/">
          Teaching
        </a>

      </li>
  
      <li class="breadcrumb-item active">
        GWM
      </li>
  </ol>
  </nav>
</div>

  <div class="card-body lightcthru" >
    <h1 id="gwm">GWM</h1>

<form>
  <div class="border bg-info m-2 p-4">
    <div class="form-group row">
      <label class="col-1 col-form-label text-right" for="group_input">Group</label>
      <textarea class="col-10 form-control" id="group_input" rows="1" placeholder="Input"></textarea>
      <button class="col-1 btn btn-primary" onclick="group_parse(); return false">Evaluate</button>
    </div>
    <div class="form-group row">
      <label class="col-1 col-form-label text-right" for="group_input">Group</label>
      <textarea class="col-5 form-control" id="rate_input" rows="6" placeholder="Input"></textarea>
      <textarea class="col-5 form-control" id="rate_output" rows="6" placeholder="Input"></textarea>
      <button class="col-1 btn btn-primary" onclick="rate_parse(); return false">Evaluate</button>
    </div>
  </div>
</form>

<form>
  <div class="form-row">
    <div class="form-group col" id="namescol">
      <label for="ratees">Group Members</label>
    
      <input type="text" class="form-control" name="ratees" id="ratee1" />
    
      <input type="text" class="form-control" name="ratees" id="ratee2" />
    
      <input type="text" class="form-control" name="ratees" id="ratee3" />
    
      <input type="text" class="form-control" name="ratees" id="ratee4" />
    
      <input type="text" class="form-control" name="ratees" id="ratee5" />
    
    </div>
    
    <div class="form-group col" id="r1col">
      <label id="rater1" for="raters1">GM 1 rates</label>
      
        <input type="number" step="1" class="form-control" id="1b1" placeholder="self" />
        
      
        <input type="number" step="1" class="form-control" id="2b1" placeholder="GM 2" />
        
      
        <input type="number" step="1" class="form-control" id="3b1" placeholder="GM 3" />
        
      
        <input type="number" step="1" class="form-control" id="4b1" placeholder="GM 4" />
        
      
        <input type="number" step="1" class="form-control" id="5b1" placeholder="GM 5" />
        
      
      <input type="number" step="1" disabled="" class="form-control" id="sb1" placeholder="Sum" />
    </div>
    
    <div class="form-group col" id="r2col">
      <label id="rater2" for="raters2">GM 2 rates</label>
      
        <input type="number" step="1" class="form-control" id="1b2" placeholder="GM 1" />
        
      
        <input type="number" step="1" class="form-control" id="2b2" placeholder="self" />
        
      
        <input type="number" step="1" class="form-control" id="3b2" placeholder="GM 3" />
        
      
        <input type="number" step="1" class="form-control" id="4b2" placeholder="GM 4" />
        
      
        <input type="number" step="1" class="form-control" id="5b2" placeholder="GM 5" />
        
      
      <input type="number" step="1" disabled="" class="form-control" id="sb2" placeholder="Sum" />
    </div>
    
    <div class="form-group col" id="r3col">
      <label id="rater3" for="raters3">GM 3 rates</label>
      
        <input type="number" step="1" class="form-control" id="1b3" placeholder="GM 1" />
        
      
        <input type="number" step="1" class="form-control" id="2b3" placeholder="GM 2" />
        
      
        <input type="number" step="1" class="form-control" id="3b3" placeholder="self" />
        
      
        <input type="number" step="1" class="form-control" id="4b3" placeholder="GM 4" />
        
      
        <input type="number" step="1" class="form-control" id="5b3" placeholder="GM 5" />
        
      
      <input type="number" step="1" disabled="" class="form-control" id="sb3" placeholder="Sum" />
    </div>
    
    <div class="form-group col" id="r4col">
      <label id="rater4" for="raters4">GM 4 rates</label>
      
        <input type="number" step="1" class="form-control" id="1b4" placeholder="GM 1" />
        
      
        <input type="number" step="1" class="form-control" id="2b4" placeholder="GM 2" />
        
      
        <input type="number" step="1" class="form-control" id="3b4" placeholder="GM 3" />
        
      
        <input type="number" step="1" class="form-control" id="4b4" placeholder="self" />
        
      
        <input type="number" step="1" class="form-control" id="5b4" placeholder="GM 5" />
        
      
      <input type="number" step="1" disabled="" class="form-control" id="sb4" placeholder="Sum" />
    </div>
    
    <div class="form-group col" id="r5col">
      <label id="rater5" for="raters5">GM 5 rates</label>
      
        <input type="number" step="1" class="form-control" id="1b5" placeholder="GM 1" />
        
      
        <input type="number" step="1" class="form-control" id="2b5" placeholder="GM 2" />
        
      
        <input type="number" step="1" class="form-control" id="3b5" placeholder="GM 3" />
        
      
        <input type="number" step="1" class="form-control" id="4b5" placeholder="GM 4" />
        
      
        <input type="number" step="1" class="form-control" id="5b5" placeholder="self" />
        
      
      <input type="number" step="1" disabled="" class="form-control" id="sb5" placeholder="Sum" />
    </div>
    
    <div class="form-group col" id="sumcol">
      <label for="">Sum</label>
      
      <input type="number" step="1" disabled="" class="form-control" id="r1s" placeholder="Sum" />
      
      <input type="number" step="1" disabled="" class="form-control" id="r2s" placeholder="Sum" />
      
      <input type="number" step="1" disabled="" class="form-control" id="r3s" placeholder="Sum" />
      
      <input type="number" step="1" disabled="" class="form-control" id="r4s" placeholder="Sum" />
      
      <input type="number" step="1" disabled="" class="form-control" id="r5s" placeholder="Sum" />
      
    </div>
    <div class="form-group col" id="wtcol">
      <label for="">Rating</label>
      
      <input type="number" step="0.1" disabled="" class="form-control" id="r1w" placeholder="Weight" />
      
      <input type="number" step="0.1" disabled="" class="form-control" id="r2w" placeholder="Weight" />
      
      <input type="number" step="0.1" disabled="" class="form-control" id="r3w" placeholder="Weight" />
      
      <input type="number" step="0.1" disabled="" class="form-control" id="r4w" placeholder="Weight" />
      
      <input type="number" step="0.1" disabled="" class="form-control" id="r5w" placeholder="Weight" />
      
    </div>
  </div>
</form>

<script>

var groupsize = 5;
var csepv = [];
var csrat = [];

function group_parse()
{
  var textArea = document.getElementById('group_input');
  csepv = textArea.value.split(',');    // lines is an array of strings

  // Loop through all lines
  console.log('Group: ' + csepv[0])
  if (csepv[csepv.length - 1] == csepv.length - 2)
  {
    grpsize(csepv[csepv.length - 1])
    console.log(groupsize)
    for (var j = 1; j < csepv.length - 1 ; j++) {
      console.log('Group Member ' + j + ' is ' + csepv[j])
    }
    namefill(csepv)
  }
  else
  {
    alert("Group size: doesn't match")
  }
}

function rate_parse()
{
  var inArea = document.getElementById('rate_input');
  var outArea = document.getElementById('rate_output');
  csrat = inArea.value.split('\n');    // lines is an array of strings

  // Loop through all lines
  for (var i = 0; i < csrat.length; i++)
  {
    if (csrat[i].length > 0)
    {
      outstr = ''
      var words = csrat[i].split(/,| |-|:|=/);
      var wmatches = 0;
      for (var j = 0; j < words.length; j++)
      {
        if (words[j].length > 0)
        {
          //wcount = wcount + 1;
          var pival = parseInt(words[j],10)
          if (isNaN(pival))
          {
            // match name
            if (wmatches == 0)
            {
              for (var n = 0; n < csepv.length; n++)
              {
                if (csepv[n].includes(words[j]))
                {
                  wmatches = 1
                  outstr = outstr + '( Matched: ' + csepv[n] + ') '
                  break;
                }
              }
              outstr = outstr + words[j] + ' '
            }
          }
          else if (j == words.length - 1)
          {
            outstr = outstr + pival.toString()
          }
          else
          {
            outstr = ''
            wmatches = 0
          }
        }
      }
      if (wmatches == 1)
      {
        outArea.textContent = outArea.textContent + '\n' + ' ' + outstr;
      }
    }
  }
}

function grpsize(gs)
{
  groupsize = parseInt(gs,10);
  for (var i = groupsize+1; i <=5; i++)
  {
    document.getElementById('r' + i.toString() + 'col').style.display = 'none';
    document.getElementById('ratee' + i.toString()).style.display = 'none';
    document.getElementById('r' + i.toString() + 's').style.display = 'none';
    document.getElementById('r' + i.toString() + 'w').style.display = 'none';
    for (var j = 1; j <= groupsize; j++)
    {
      document.getElementById(i.toString() + 'b' + j.toString()).style.display = 'none';
    }
  }
}

function namefill(names)
{
  for (var i = 1; i <= groupsize; i++)
  {
    //console.log("ratee" + i.toString())
    //console.log("rater" + i.toString())
    //console.log(csepv)
    //console.log(names)
    //console.log(document.getElementById("ratee" + i.toString()))
    document.getElementById("ratee" + i.toString()).placeholder = names[i].toString()
    document.getElementById("rater" + i.toString()).textContent = names[i].toString()
    for (var j = 1; j <= groupsize; j++)
    {
      if (i == j)
      {
        document.getElementById(i.toString() + 'b' + j.toString()).placeholder = 'Self'
      }
      else
      {
        document.getElementById(i.toString() + 'b' + j.toString()).placeholder = names[i]
      }
    }
  }
}


function weight()
{
  var sum = 0;
  var maxsum = 0;
  for (var i = 1; i <= groupsize; i++)
  {
    var sid = "r" + i.toString() + "s";
    var sbox = document.getElementById(sid);
    var val = parseInt(sbox.value);
    if (val > maxsum)
    {
      maxsum=val;
    }
  }
  if (!isNaN(maxsum))
  {
    for (var i = 1; i <= groupsize; i++)
    {
      var sid = "r" + i.toString() + "s";
      var wid = "r" + i.toString() + "w";
      var sbox = document.getElementById(sid);
      var wbox = document.getElementById(wid);
      var val = parseInt(sbox.value);
      var wval = ((val*1.0)/(maxsum * 1.0)).toFixed(2);
      console.log(wid);
      console.log(wval);
      if (wval < 0.5)
      {
        wval = 0.5;
      }
      else if (wval <= 1.0)
      {
        wbox.valueAsNumber = wval;
        wbox.style.backgroundColor = "silver";
      }
    }
  }
}

function sumfor(rr)
{
    var rowsum = 0;
    for (var i = 1; i <= groupsize; i++)
    {
      var rrid = rr + "b" + i.toString();
      console.log(rrid);
      var rrbox = document.getElementById(rrid);
      var val = parseInt(rrbox.value);
      if (!isNaN(val))
      {
        rrbox.style.backgroundColor = "silver";
      }
      rowsum = rowsum + val;
    }
    var rrsum = "r" + rr + "s";
    var tt = document.getElementById(rrsum);
    if (!isNaN(rowsum))
    {
      tt.valueAsNumber = rowsum;
      tt.style.backgroundColor = "silver";
    }
    weight();
}

function isumby()
{

    var sum = 0;
    for (var i = 1; i <= groupsize; i++)
    {
      var rbox = document.getElementById('i-' + i.toString() + 'bi');
      var val = parseInt(rbox.value);
      if (!isNaN(val))
      {
        rbox.style.backgroundColor = "silver";
      }
      sum = sum + val;
    }
    var tt = document.getElementById('sbi');
    if (!isNaN(sum))
    {
      tt.valueAsNumber = sum;
      if (sum < 99 || sum > 100)
      {
        tt.style.backgroundColor = "red";
      }
      else
      {
        tt.style.backgroundColor = "silver";
      }
    }
}

function sumby(rr)
{

    var sum = 0;
    console.log(sum);
    for (var i = 1; i <= groupsize; i++)
    {
      var rid = i.toString() + "b" + rr;
      var rbox = document.getElementById(rid);
      var val = parseInt(rbox.value);
      if (!isNaN(val))
      {
        rbox.style.backgroundColor = "silver";
      }
      sum = sum + val;
      sumfor(i.toString());
    }
    var rsum = "sb" + rr;
    var tt = document.getElementById(rsum);
    if (!isNaN(sum))
    {
      tt.valueAsNumber = sum;
      if (sum < 99 || sum > 100)
      {
        tt.style.backgroundColor = "red";
      }
      else
      {
        tt.style.backgroundColor = "silver";
      }
    }
}

function format_ratings()
{
  var ratingsspan = document.getElementById("ratings_text");

  ratingsspan.textContent = "\t\t"
  + document.getElementById("i-ratee1").value + "\n";
  for (var i = 1; i <= groupsize; i++)
  {
    // output information for each criterion
    ratingsspan.textContent = ratingsspan.textContent + document.getElementById('i-ratee' + i.toString()).value +
    '\t' + document.getElementById('i-' + i.toString() + 'bi').value + '\n'
  }
}

function reset_grpsize()
{
}
</script>


  </div>
<div class="card-footer text-muted lightcthru">
  Site built: 2020-04-09 00:24 -0600
  &nbsp;&bull;&nbsp;
  <a href="mailto:daryl.hepting@uregina.ca?subject=Feedback about webpage: http://www2.cs.uregina.ca/~hepting/teaching/gw-marking.html">
    Give feedback <span class="d-none d-sm-inline">about page</span>
  </a>
</div>

</div>
<!-- </div> -->
  <!-- Placed at the end of the document so the pages load faster -->
<script async
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous">
  </script>
  <script async
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous">
  </script>
  <script src="/~hepting/assets/tipuesearch/tipuesearch_content.js"></script>
  <script src="/~hepting/assets/tipuesearch/tipuesearch_set.js"></script>
  <script src="/~hepting/assets/tipuesearch/tipuesearch.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"
    integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ="
    crossorigin="anonymous">
  </script>
  
	<script>
		var clipboard = new ClipboardJS('.btn')
	</script>
  
	<!-- Google Analytics
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga')
		ga('create', 'UA-4427429-2', 'auto')
		ga('send', 'pageview')
	</script>
 End Google Analytics -->
</body>
</html>


