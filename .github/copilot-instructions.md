<!-- Copilot instructions for repository: dhhepting.github.io -->
# Repo summary
This repository is a personal website built with Jekyll and populated by a set of Python data-generation scripts and course-specific content under `teaching/`. Primary runtime/build tooling is Ruby (Bundler + Jekyll). JavaScript subprojects (student/example apps) may include their own Node toolchains.

# Quick start (developer actions)
- Install Ruby gems: `bundle install` (Gemfile lists `jekyll ~> 4.2.2` and site plugins).
- Build/preview the site locally: `bundle exec jekyll serve` (use `--baseurl ""` when serving on localhost if links assume root).
- For JS linting: run `npm install` then `npx eslint <path>` (repo has `devDependencies` in `package.json` — run per-subproject as needed).
- Many teaching pages are generated by Python scripts in `script/` — run those with `python3` when updating offerings or teaching data.

# Big-picture architecture & data flow (what to know)
- Jekyll site root: `_layouts/`, `_includes/`, `assets/`, `_data/`, and course content under `teaching/`.
- Collections are defined in `_config.yml` (examples: `assignments`, `gallery`, `notes`, `works`, `posts`); note `assignments` has `output: false`.
- Teaching data lives under `_data/teaching/` (semester CSVs, schedule files, `plan.yml`, `codelinks.yml`, `meetings.csv`, `media.csv`, and generated `responses/` & `summary/` YAML files). These are consumed by templates under `_includes/` and `_layouts/`.
- Scripts in `script/` generate and update `_data` and markdown for new offerings. Typical flow when creating a semester offering:
  - Update `_data/teaching/semesters.csv` and `_data/teaching/offerings.csv`
  - Run offering-generation scripts (examples):
    - `script/0.1_offering_data-create.py` or `script/1_offering_meeting-data-create.py`
    - `script/2_offering_plan-data-yaml-create.py` / `script/2_offering_plan-data-json-create.py`
    - `script/3_offering_md-create.py`
  - Rebuild site with `bundle exec jekyll build` / `serve` to pick up changes.

# Project-specific conventions & gotchas
- Course directories: `teaching/<CRS_CODE>/<SEMESTER>/` — e.g., `teaching/CS-315+733/202530/` holds code and assignment pages for that offering.
- Semester directories are numeric codes (e.g., `201810`, `202330`, `202530`); data filenames sometimes avoid leading digits — see README note about prefixing data filenames with a character to avoid Jekyll issues.
- Many generated files are intentionally excluded from Jekyll via `_config.yml` `exclude:` list (e.g., `script/`, `0_nonweb/`, `1_offweb/`). Be careful when editing: excluded content is not published.
- The site uses `baseurl: /~hepting` and `url:` settings in `_config.yml`; when previewing locally you may need to override `--baseurl` or adjust links.

# Where to look for common tasks (examples)
- Add a new assignment page: check `teaching/<COURSE>/<SEMESTER>/` and `_data/teaching/<COURSE>/<SEMESTER>/assignments.csv`.
- Change site layout or nav: `_includes/navbar.html`, `_includes/full-sitenav.html`, and `_layouts/`.
- Update SEO / redirects: use `jekyll-seo-tag` and `jekyll-redirect-from` (both present in `Gemfile`).

# Linting, testing, and CI notes
- Ruby/Jekyll: use `bundle exec` for all Jekyll-related commands to ensure the Gemfile versions are respected.
- Static checks: `html-proofer` is present in the `Gemfile`; to validate generated `_site` you can run the gem (example):
  - `bundle exec htmlproofer ./_site --check-html --url-ignore /some-pattern/` (adjust flags as needed).
- JavaScript: ESLint is used across subprojects; run `npm install` at the subproject root if it has its own `package.json` (some teaching subfolders include Node apps).

# Integration points & external dependencies
- External site canonical and base URLs: `_config.yml` sets `baseurl` and `canonical` — watch for absolute vs relative links.
- Deployment artifacts: there are `deploy_rsa` and `deploy_rsa.enc` files (excluded). A Travis badge exists in `README.md` indicating past CI usage — check repository settings/CI pipeline for current deploy steps.
- Plugins: `jekyll-seo-tag`, `jekyll-sitemap`, `jekyll-redirect-from` are used and must be available via `bundle install`.

# Examples of useful file references
- `_config.yml` — site config, collections, exclusions, plugins, `baseurl`.
- `Gemfile` — Jekyll and plugin versions; run `bundle install` & `bundle exec jekyll serve`.
- `script/` — many Python helpers for generating teaching `_data` and markdown (e.g., `3_offering_md-create.py`).
- `_data/teaching/` — canonical source files for teaching content and schedules.
- `teaching/<COURSE>/<SEMESTER>/` — course-specific pages, code, and assignments.

# How Copilot/AI agents should behave here
- Prefer small, focused edits: update a specific `_includes/` or a single `teaching/...` markdown file rather than sweeping changes to layout.
- When adding new semester content, follow the scripted data-generation flow under `script/` and run `bundle exec jekyll build` to verify.
- Avoid changing `baseurl` or `_config.yml` without explaining local vs production implications (links, assets, canonical URL).
- When touching JS in `teaching/*/code/`, run ESLint locally and prefer non-breaking examples; many student/example subprojects have their own `package.json` and build setups.

If any part is unclear or you'd like me to include explicit command snippets for your local setup (e.g., exact `python3` invocation with virtualenv guidance, or a recommended `npx eslint` command), tell me which area to expand and I'll iterate.
