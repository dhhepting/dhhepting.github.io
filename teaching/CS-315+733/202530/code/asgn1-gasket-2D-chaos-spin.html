<!DOCTYPE html>
<!-- based on: https://www.interactivecomputergraphics.com/8E/Code/02/gasket1.html -->
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>2D Sierpi≈Ñski Triangle (Chaos Game)</title>
        <style>
            body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin: 12px; color: #222; }
            table { border-collapse: collapse; }
            td { vertical-align: top; padding: 8px; }
            canvas { border: 1px solid #d0d0d0; display: block; max-width: 100%; height: auto; background: #fff; }
            fieldset { margin-bottom: 8px; padding: 8px; border-radius: 6px; border: 1px solid #ddd; }
            label { display: block; margin-bottom: 6px; }
            input[type="number"], input[type="range"] { width: 100%; max-width: 260px; }
            #generated-count { font-weight: 600; }
            button { padding: 6px 10px; border-radius: 4px; border: 1px solid #bbb; background: #f5f5f5; cursor: pointer; }
            button:disabled { opacity: 0.6; cursor: not-allowed; }
            #apply { background: #1976d2; color: #fff; border-color: #1565c0; }
            @media (max-width: 720px) {
                table, tbody, tr, td { display: block; width: 100%; }
                td:first-child { margin-bottom: 8px; }
                input[type="number"], input[type="range"] { max-width: 100%; }
            }
        </style>
        
        <script type="module" src="main.js"></script>
    </head>
    <body>
        <table>
            <tbody>
                <tr>
                    <td>
                        <canvas width="512" height="512" id="gl-canvas">
                            Your browser does not support the HTML5 canvas element
                        </canvas>
                    </td>
                    <td>
                        <fieldset>
                            <legend>General Settings</legend>
                                                        <label>
                                                                <strong>Number of points</strong>
                                                                <input type="number" name="nbr-points" id="nbr-points" min="99" max="65536" step="10" value="65536" />
                                                        </label>
                                                        <br />
                                                        <label>
                                                            <strong>Quick slider</strong>
                                                            <input type="range" id="nbr-points-range" min="99" max="65536" step="10" value="65536" />
                                                        </label>
                                                        <div style="margin-top:6px; font-size:0.9em;">
                                                            Generated: <span id="generated-count">0</span>
                                                            &nbsp; <span id="generation-status" style="color:#666;font-style:italic"></span>
                                                        </div>
                            <br />
                            <label>
                                <strong>Show vertices</strong>
                                <input type="checkbox" id="show-centres" name="show-centres" checked />
                            </label>
                        </fieldset>
                        
                        <fieldset>
                            <legend>Vertex 0</legend>
                            <label>
                                <strong>Position</strong>
                                (x: <input type="number" name="v0-xpos" id="v0-xpos" min="-1" max="1" step="0.01" value="-0.5" />,
                                y: <input type="number" name="v0-ypos" id="v0-ypos" min="-1" max="1" step="0.01" value="0.0" />)
                                <br />
                                <strong>Rotation</strong>
                                (angle in degrees: <input type="number" name="v0-rot" id="v0-rot" min="0" max="359" step="0.1" value="0" />)
                            </label>
                        </fieldset>
                        <fieldset>
                            <legend>Vertex 1</legend>
                            <label>
                                <strong>Position</strong>
                                (x: <input type="number" name="v1-xpos" id="v1-xpos" min="-1" max="1" step="0.01" value="0.5" />,
                                y: <input type="number" name="v1-ypos" id="v1-ypos" min="-1" max="1" step="0.01" value="0.0" />)
                                <br />
                                <strong>Rotation</strong>
                                (angle in degrees: <input type="number" name="v1-rot" id="v1-rot" min="0" max="359" step="0.1" value="0" />)
                            </label>
                        </fieldset>
                        <fieldset>
                            <legend>Vertex 2</legend>
                            <label>
                                <strong>Position</strong>
                                (x: <input type="number" name="v2-xpos" id="v2-xpos" min="-1" max="1" step="0.01" value="0.0" />,
                                y: <input type="number" name="v2-ypos" id="v2-ypos" min="-1" max="1" step="0.01" value="0.8660" />)
                                <br />
                                <strong>Rotation</strong>
                                (angle in degrees: <input type="number" name="v2-rot" id="v2-rot" min="0" max="359" step="0.1" value="0" />)
                            </label>
                        </fieldset>
                        <fieldset>
                            <legend>Shader</legend>
                            <label>
                                <strong>Rotate</strong>
                                <input type="checkbox" id="rotate-on" name="rotate-on" />
                            </label>
                            <br />
                            <label>
                                <strong>Rotation centre</strong>
                                (x: <input type="number" name="src-xpos" id="src-xpos" min="-1" max="1" step="0.01" value="0.5" />,
                                y: <input type="number" name="src-ypos" id="src-ypos" min="-1" max="1" step="0.01" value="0.0" />)
                            </label>
                        </fieldset>
                        <br />
                        <button id="apply">
                            Apply
                        </button>
                        <button id="reset" style="margin-left:8px;">Reset</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>
