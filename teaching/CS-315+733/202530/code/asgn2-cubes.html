<!DOCTYPE html>
<html>

<script id="vertex-shader" type="x-shader/x-vertex">
#version 300 es

in  vec4 aPosition;
in  vec4 aColor;
out vec4 vColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec3 uEta;

void main()
{
    vec3 angles = radians(uEta);
    vec3 c = cos(angles);
    vec3 s = sin(angles);

    // Remeber: thse matrices are column-major
    mat4 rx = mat4(1.0,  0.0,  0.0, 0.0,
		    0.0,  c.x,  s.x, 0.0,
		    0.0, -s.x,  c.x, 0.0,
		    0.0,  0.0,  0.0, 1.0);

    mat4 ry = mat4(c.y, 0.0, -s.y, 0.0,
		    0.0, 1.0,  0.0, 0.0,
		    s.y, 0.0,  c.y, 0.0,
		    0.0, 0.0,  0.0, 1.0);


    mat4 rz = mat4(c.z, s.z, 0.0, 0.0,
		    -s.z,  c.z, 0.0, 0.0,
		    0.0,  0.0, 1.0, 0.0,
		    0.0,  0.0, 0.0, 1.0);

    gl_Position = uProjectionMatrix * uModelViewMatrix * rz * ry * rx * aPosition;
    vColor = aColor;
}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">
#version 300 es

precision mediump float;

in vec4 vColor;
out vec4 fColor;

void
main()
{
    fColor = vColor;
}
</script>

<script type="text/javascript" src="https://interactivecomputergraphics.com/8E/Code/Common/initShaders.js"></script>
<script type="text/javascript" src="https://interactivecomputergraphics.com/8E/Code/Common/MVnew.js"></script>
<script type="text/javascript" src="asgn2-cubes.js"></script>

<body>
<table>
    <tbody>
        <tr>
            <td>
                <canvas width="512" height="512" id="gl-canvas">
                    Your browser does not support the HTML5 canvas element
                </canvas>
            </td>
            <td>
                <fieldset>
                    <legend>Camera Position</legend>                        <strong>Eye point:</strong>
                        (x: <input type="number" name="eye-x" id="eye-x" min="-5" max="5" step="0.1" value="0" />,
                        y: <input type="number" name="eye-y" id="eye-y" min="-5" max="5" step="0.1" value="0" />,
                        z: <input type="number" name="eye-z" id="eye-z" min="-5" max="5" step="0.1" value="1" />)
                        <br /><strong>LookAt point:</strong>
                        (x: <input type="number" name="lap-x" id="lap-x" min="-5" max="5" step="0.1" value="0" />,
                        y: <input type="number" name="lap-y" id="lap-y" min="-5" max="5" step="0.1" value="0" />,
                        z: <input type="number" name="lap-z" id="lap-z" min="-5" max="5" step="0.1" value="0" />)
                        <br /><strong>Up direction:</strong>
                        (x: <input type="number" name="up-x" id="up-x" min="-5" max="5" step="0.1" value="0" />,
                        y: <input type="number" name="up-y" id="up-y" min="-5" max="5" step="0.1" value="0" />,
                        z: <input type="number" name="up-z" id="up-z" min="-5" max="5" step="0.1" value="0" />)
                </fieldset>
                <fieldset>
                    <legend>Projection</legend>
                        <strong>Type:</strong>
                        <input type="radio" id="proj0" name="projection" value="parallel" />
                        <label for="proj0">Parallel</label>
                        <input type="radio" id="proj1" name="projection" value="perspective" />
                        <label for="proj1">Perspective</label>
                </fieldset>
                <fieldset>
                    <legend>Parallel</legend>
                        <input type="number" name="o-left" id="o-left" min="-5" max="5" step="0.1" value="-2.0" />
                        <label for="o-near">Left</label><br />
                        <input type="number" name="o-right" id="o-right" min="-5" max="5" step="0.1" value="2.0" />
                        <label for="o-near">Right</label><br />
                        <input type="number" name="o-bottom" id="o-bottom" min="-5" max="5" step="0.1" value="-2.0" />
                        <label for="o-near">Bottom</label><br />
                        <input type="number" name="o-top" id="o-top" min="-5" max="5" step="0.1" value="2.0" />
                        <label for="o-near">Top</label><br />
                         <input type="number" name="o-near" id="o-near" min="-5" max="5" step="0.1" value="-2.0" />
                        <label for="o-near">Near</label><br />
                        <input type="number" name="o-far" id="o-far" min="-5" max="5" step="0.1" value="2.0" />
                        <label for="o-near">Far</label>
                </fieldset>
                <fieldset>
                    <legend>Perspective</legend>
                    <input type="number" name="p-fovy" id="p-fovy" min="0" max="350" step="1" value="45" />
                    <label for="p-fovy">FoVY</label><br />
                    <input type="number" name="p-aspect" id="p-aspect" min="0" max="3.0" step="0.1" value="1.7778" />
                    <label for="p-aspect">Aspect Ratio</label><br />
                    <input type="number" name="p-near" id="p-near" min="-5" max="5" step="0.1" value="-2.0" />
                    <label for="p-near">Near</label><br />
                    <input type="number" name="p-far" id="p-far" min="-5" max="5" step="0.1" value="2.0" />
                    <label for="p-far">Far</label>
                </fieldset>
            </td>
        </tr>
    </tbody>
</table>
</body>
</html>